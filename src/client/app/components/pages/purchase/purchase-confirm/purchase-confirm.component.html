<div class="contents-width mx-auto px-3 py-5">

    <h2 class="text-large mb-4 text-center"><strong>購入情報確認</strong></h2>
    <p class="mb-4">購入情報をご確認ください。</p>

    <div *ngFor="let authorizeSeatReservation of (purchase | async).authorizeSeatReservations" class="mb-4 px-3 bg-light-gray">
        <div class="py-3 border-bottom border-gray">
            <div class="row">
                <p class="mb-2 mb-md-0 col-md-4">
                    <i class="fas fa-map-marker-alt mr-2"></i>劇場 / スクリーン</p>
                <p class="col-md-8">{{ authorizeSeatReservation.object.event.superEvent.location.name.ja }} / {{
                    authorizeSeatReservation.object.event.location.name.ja }}</p>
            </div>
        </div>
        <div class="py-3 border-bottom border-gray">
            <div class="row">
                <p class="mb-2 mb-md-0 col-md-4">
                    <i class="fas fa-film mr-2"></i>作品</p>
                <p class="col-md-8">{{ authorizeSeatReservation.object.event.superEvent.name.ja }}</p>
            </div>
        </div>
        <div class="py-3 border-bottom border-gray">
            <div class="row">
                <p class="mb-2 mb-md-0 col-md-4">
                    <i class="far fa-clock mr-2"></i>上映日時</p>
                <p class="col-md-8">{{
                    moment(authorizeSeatReservation.object.event.superEvent.startDate).format('YYYY/MM/DD (ddd)
                    HH:mm') }}</p>
            </div>
        </div>
        <div class="py-3">
            <div class="row">
                <p class="mb-2 mb-md-0 col-md-4">
                    <i class="fas fa-ticket-alt mr-2"></i>座席・券種</p>
                <div class="col-md-8">
                    <div *ngFor="let acceptedOffer of authorizeSeatReservation.object.acceptedOffer" class="mb-2">
                        <p>{{ acceptedOffer.ticketedSeat.seatNumber }}</p>
                        <p>{{ acceptedOffer.name.ja }} / {{
                            getTicketPrice(acceptedOffer).single | currency : 'JPY' }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mb-4 px-3 bg-light-gray" *ngIf="(purchase | async).paymentMethod && (purchase | async).paymentMethod.typeOf === paymentMethodType.Cash">
        <div class="py-3 border-bottom border-gray">
            <div class="row">
                <p class="mb-2 mb-md-0 col-md-4">
                    <i class="fas fa-arrow-right mr-2"></i>お預かり金額</p>
                <p class="col-md-8 d-flex align-items-center position-static">
                    <span class="mr-2">￥</span>
                    <app-numeric-keypad [inputValue]="depositAmount" viewPosition="Top" [maxlength]="10" (change)="changeDepositAmount($event)"
                        (hidden)="depositAmount = ($event.length > 0) ? $event : 0">
                        <input type="text" class="form-control text-large py-2 h-auto" id="depositAmount"
                            [(ngModel)]="depositAmount" readonly>
                    </app-numeric-keypad>
                </p>
            </div>
        </div>
        <div class="py-3">
            <div class="row">
                <p class="mb-2 mb-md-0 col-md-4">
                    <i class="fas fa-arrow-left mr-2"></i>お釣り</p>
                <p class="col-md-8">{{ (depositAmount - amount) |
                    currency : 'JPY' }}</p>
            </div>
        </div>
    </div>

    <div class="buttons mx-auto">
        <button type="button" class="btn btn-primary btn-block py-3 mb-3" [disabled]="isLoading | async" (click)="onSubmit()">購入確定</button>
        <button type="button" class="btn btn-outline-primary btn-block py-3" routerLink="/purchase/payment">決済方法選択へ戻る</button>
    </div>
</div>